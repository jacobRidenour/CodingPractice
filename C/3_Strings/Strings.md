# Strings

In C, strings are arrays of characters that end with a null-termination character, `\0`.

```C
char str[] = "hello, world"; // char[13]
```

String literals are implicitly null-terminated to signify the end of the string. In all other cases, null-termination of a string must be done explicitly.

```C
char str[6] = {'H', 'e', 'l', 'l', 'o', '\0'};
```

Most of the standard library's string functions will handle null termination *if used correctly*. If you don't need every last bit of performance and want to be safe, it's recommended to use the "n"-functions, so named because they have an extra argument for the length of the destination buffer.

## String Functions

All provided in `<string.h>`

Notice that the `dest, src` pattern is backwards from what you typically see from Unix commands (`src, dest`).

Non-string specific functions (`mem*`)

| Function                                               | Usage                                                                                                      |
| ------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------- |
| `void* memcpy(void* dest, void* src, size_t n)`        | Copy `n` bytes from `src` to `dest`                                                                        |
| `void* memmove(void* dest, void* src, size_t n)`       | Copy `n` bytes from `src` to `dest`, where `src` and `dest`'s memory may overlap                           |
| `void* memccpy(void* dest, void*src, int c, size_t n)` | Copy <= `n` bytes from `src` to `dest`, stopping at `c`.<br>Return position of `c` in `dest` + 1 or `NULL` |
| `void* memset(void* dest, int c, size_t n)`            | Set first `n` bytes in `dest` to `c`                                                                       |
| `int memcmp(void* s1, void* s2, size_t n)`             | Compare `n` bytes of `s1` and `s2`; return 0 if equal, some other value otherwise                          |
| `void* memchr(void* str, int c, size_t n)`             | Find first occurrence of `c` in the first `n` bytes of  `str` , return its address or `NULL`               |
| `void* rawmemchr(void* str, int c)`                    | Find first occurrence of `c` in `str` , return its address or `NULL`                                       |
| `void* memrchr(void* str, int c, size_t n)`            | Find last occurrence of `c` in the first `n` bytes of `str`, return its address or `NULL`                  |
|                                                        |                                                                                                            |
|                                                        |                                                                                                            |
|                                                        |                                                                                                            |
|                                                        |                                                                                                            |

String-specific functions

| Function                                                                                                             | Usage                                                                                                                                                                                                                                                                                           |
| -------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `char* strcpy(char* dest, char* src)`,<br>`char* strncpy(char* dest, char* src, size_t n)`                           | Copy `src` to `dest`<br>Copy `n` bytes from `src` to `dest`                                                                                                                                                                                                                                     |
| `char* strcat(char* dest, char* src)`<br>`char* strncat(char* dest, char* src, size_t n)`                            | Append `src` onto `dest`<br>Append `n` bytes from `src` onto `dest`                                                                                                                                                                                                                             |
| `int strcmp(char* s1, char* s2)`<br>`int strncmp(char* s1, char* s2, size_t n)`                                      | Compare (first `n` bytes of) `s1` and `s2`; return 0 if equal, some other value otherwise                                                                                                                                                                                                       |
| `int strcoll(char* s1, char* 2)`<br>`int strcoll_l(char* s1, char* s2, locale_t l)`                                  | Compare `s1` and `s2` based on the current locale (or sorting rules from `l`); return 0 if equal, some other value otherwise                                                                                                                                                                    |
| `size_t strxfrm(char* dest, char* src, size_t n)`<br>`size_t strxfrm_l(char* dest, char* src, size_t n, locale_t l)` | Convert first <= `n` bytes of `src` to current locale (oir using sorting rules from `l`) and place results in `dest`;<br>comparing `strxfrm`'d strings with `strcmp` produces the same results as when comparing original strings with `strcoll`;<br>return the length of the string minus `\0` |
| `char* strndup(char* src, size_t n)`                                                                                 |                                                                                                                                                                                                                                                                                                 |
| `strdupa(s)`                                                                                                         |                                                                                                                                                                                                                                                                                                 |
| `strndupa(s, n)`                                                                                                     |                                                                                                                                                                                                                                                                                                 |
| `char* strchr(char* s, int c)`                                                                                       |                                                                                                                                                                                                                                                                                                 |
| `char* strrchr(char* s, int c)`                                                                                      |                                                                                                                                                                                                                                                                                                 |
| `char* strchrnul(char* s, int c)`                                                                                    |                                                                                                                                                                                                                                                                                                 |
| `size_t strcspn(char* s, char* reject)`                                                                              |                                                                                                                                                                                                                                                                                                 |
| `size_t strspn(char* s, char* reject)`                                                                               |                                                                                                                                                                                                                                                                                                 |
| `char* strpbrk(char* s, char* accept)`                                                                               |                                                                                                                                                                                                                                                                                                 |
| `char* strstr(char* haystaack, char* needle)`                                                                        |                                                                                                                                                                                                                                                                                                 |
| `char* strtok(char* s, char* delim)`                                                                                 |                                                                                                                                                                                                                                                                                                 |
| `char* strtok_r(char* s, char* delim)`                                                                               |                                                                                                                                                                                                                                                                                                 |
| `char* strcasestr(char* haystack, char* needle)`                                                                     |                                                                                                                                                                                                                                                                                                 |
| `void* memmem(void* haystack, size_t hlen, void* needle, size_t nlen)`                                               |                                                                                                                                                                                                                                                                                                 |
| `void* __mempcpy(void* dest, void* src, size_t n)`                                                                   |                                                                                                                                                                                                                                                                                                 |
|                                                                                                                      |                                                                                                                                                                                                                                                                                                 |
|                                                                                                                      |                                                                                                                                                                                                                                                                                                 |
|                                                                                                                      |                                                                                                                                                                                                                                                                                                 |
|                                                                                                                      |                                                                                                                                                                                                                                                                                                 |
|                                                                                                                      |                                                                                                                                                                                                                                                                                                 |
|                                                                                                                      |                                                                                                                                                                                                                                                                                                 |
|                                                                                                                      |                                                                                                                                                                                                                                                                                                 |
|                                                                                                                      |                                                                                                                                                                                                                                                                                                 |
